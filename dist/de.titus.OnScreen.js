!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const o="out-of-view",i="in-view";const r=new class{constructor(){this.listeners=new Array,this.executing=void 0}addElement(e){console.log("addElement",e),this.listeners.push(new class{constructor(e){this.element=e,this.state=o}doChecking(e){console.log("doChecking");const t=this.element.getBoundingClientRect();console.log("bound",t),console.log("aViewport",e),this.state===o?this.__enteringView(t,e):this.__isOutOfViewing(t,e),console.log(this.state)}__enteringView(e,t){(e.top<t.height||e.bottom>0&&e.bottom<t.height)&&(this.state=i)}__isOutOfViewing(e,t){(e.top>t.height||e.bottom<0)&&(this.state=o)}}(e))}execute(){void 0!==this.executing&&clearTimeout(this.executing),this.executing=setTimeout((()=>{console.log("execute");const e={width:window.innerWidth,height:window.innerHeight};this.listeners.forEach(t=>{t.doChecking(e)})}).bind(this),250)}};["scroll","resize","load"].forEach(e=>addEventListener(e,r.execute.bind(r)));const s=function(){let e=document.querySelectorAll("[data-onscreen]");Array.prototype.forEach.call(e,function(e){r.addElement(e)}),r.execute()};window.MutationObserver&&addEventListener("DOMContentLoaded",()=>{s(),new MutationObserver(s).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}),"undefined"!=typeof $&&($.fn.OnScreen=function(){r.addElement(this[0])})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0xpc3RlbmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9PblNjcmVlbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvT2JzZXJ2ZXIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJkZWZhdWx0Iiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZSIsIlNUQVRFUyIsIk9CU0VSVkVSSU5TVEFOQ0UiLCJbb2JqZWN0IE9iamVjdF0iLCJ0aGlzIiwibGlzdGVuZXJzIiwiQXJyYXkiLCJleGVjdXRpbmciLCJhRWxlbWVudCIsImNvbnNvbGUiLCJsb2ciLCJwdXNoIiwiZWxlbWVudCIsInN0YXRlIiwiYVZpZXdwb3J0IiwiYm91bmQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJfX2VudGVyaW5nVmlldyIsIl9faXNPdXRPZlZpZXdpbmciLCJhQm91bmQiLCJ0b3AiLCJoZWlnaHQiLCJib3R0b20iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwidmlld3BvcnQiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImZvckVhY2giLCJhTGlzdGVuZXIiLCJkb0NoZWNraW5nIiwiZXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXhlY3V0ZSIsImZpbmRPYnNlcnZhYmxlRWxlbWVudHMiLCJpdGVtcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW0iLCJhZGRFbGVtZW50IiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJib2R5IiwiYXR0cmlidXRlcyIsImNoaWxkTGlzdCIsInN1YnRyZWUiLCIkIiwiZm4iLCJPblNjcmVlbiJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxLQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEtBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLGNBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLFlBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULGNBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBMkIsU0FDM0IsV0FBaUMsT0FBQTNCLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBa0IsRUFBQUMsR0FBc0QsT0FBQWxCLE9BQUFtQixVQUFBQyxlQUFBM0IsS0FBQXdCLEVBQUFDLElBR3REaEMsRUFBQW1DLEVBQUEsR0FJQW5DLElBQUFvQyxFQUFBLGNBQUFDLEVBQUFmLEVBQUFPLEdBQUEsYUFBQUEsRUFBQVgsRUFBQUksR0NsRkEsTUFBQWdCLEVBQ0EsY0FEQUEsRUFFQSxVQ0RBLE1BQ0FDLEVBQUEsVUNFQUMsY0FDQUMsS0FBQUMsVUFBQSxJQUFBQyxNQUNBRixLQUFBRyxpQkFHQUosV0FBQUssR0FDQUMsUUFBQUMsSUFBQSxhQUFBRixHQUNBSixLQUFBQyxVQUFBTSxLQUFBLFVGTEFSLFlBQUFLLEdBQ0FKLEtBQUFRLFFBQUFKLEVBQ0FKLEtBQUFTLE1BQUFaLEVBR0FFLFdBQUFXLEdBQ0FMLFFBQUFDLElBQUEsY0FDQSxNQUFBSyxFQUFBWCxLQUFBUSxRQUFBSSx3QkFHQVAsUUFBQUMsSUFBQSxRQUFBSyxHQUNBTixRQUFBQyxJQUFBLFlBQUFJLEdBR0FWLEtBQUFTLFFBQUFaLEVBQ0FHLEtBQUFhLGVBQUFGLEVBQUFELEdBRUFWLEtBQUFjLGlCQUFBSCxFQUFBRCxHQUdBTCxRQUFBQyxJQUFBTixLQUFBUyxPQUlBVixlQUFBZ0IsRUFBQUwsSUFDQUssRUFBQUMsSUFBQU4sRUFBQU8sUUFBQUYsRUFBQUcsT0FBQSxHQUFBSCxFQUFBRyxPQUFBUixFQUFBTyxVQUNBakIsS0FBQVMsTUFBQVosR0FFQUUsaUJBQUFnQixFQUFBTCxJQUNBSyxFQUFBQyxJQUFBTixFQUFBTyxRQUFBRixFQUFBRyxPQUFBLEtBQ0FsQixLQUFBUyxNQUFBWixLRXpCQU8sSUFHQUwsbUJBQ0FDLEtBQUFHLFdBQ0FnQixhQUFBbkIsS0FBQUcsV0FFQUgsS0FBQUcsVUFBQWlCLGlCQUNBZixRQUFBQyxJQUFBLFdBQ0EsTUFBQWUsR0FDQUMsTUFBQUMsT0FBQUMsV0FDQVAsT0FBQU0sT0FBQUUsYUFFQXpCLEtBQUFDLFVBQUF5QixRQUFBQyxJQUNBQSxFQUFBQyxXQUFBUCxPQUVHbEMsS0FBQWEsTUFBQSxRRDFCSCwwQkFFQTBCLFFBQUFHLEdBQUFDLGlCQUFBRCxFQUFBL0IsRUFBQWlDLFFBQUE1QyxLQUFBVyxLQUVBLE1BQUFrQyxFQUFBLFdBQ0EsSUFBQUMsRUFBQUMsU0FBQUMsaUJBQUEsbUJBQ0FqQyxNQUFBVixVQUFBa0MsUUFBQTVELEtBQUFtRSxFQUFBLFNBQUFHLEdBQ0F0QyxFQUFBdUMsV0FBQUQsS0FFQXRDLEVBQUFpQyxXQUVBUixPQUFBZSxrQkFDQVIsaUJBQUEsd0JBQ0FFLElBQ0EsSUFBQU0saUJBQUFOLEdBQUFPLFFBQUFMLFNBQUFNLE1BQTZFQyxjQUFBQyxhQUFBQyxlQU03RSxvQkFBQUMsSUFDQUEsRUFBQUMsR0FBQUMsU0FBQSxXQUNBaEQsRUFBQXVDLFdBQUFyQyxLQUFBIiwiZmlsZSI6ImRlLnRpdHVzLk9uU2NyZWVuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY29uc3QgU1RBVEVTID0ge1xyXG5cdFx0T1VUX09GX1ZJRVcgOiBcIm91dC1vZi12aWV3XCIsXHJcblx0XHRJTl9WSUVXIDogXCJpbi12aWV3XCJcclxufTtcclxuXHJcbmNsYXNzIExpc3RlbmVyIHtcclxuXHRjb25zdHJ1Y3RvcihhRWxlbWVudCl7XHJcblx0XHR0aGlzLmVsZW1lbnQgPSBhRWxlbWVudDtcclxuXHRcdHRoaXMuc3RhdGUgPSBTVEFURVMuT1VUX09GX1ZJRVc7XHRcdFxyXG5cdH1cclxuXHRcclxuXHRkb0NoZWNraW5nKGFWaWV3cG9ydCl7XHJcblx0XHRjb25zb2xlLmxvZyhcImRvQ2hlY2tpbmdcIik7XHJcblx0XHRjb25zdCBib3VuZCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRcdFxyXG5cdFx0XHJcblx0XHRjb25zb2xlLmxvZyhcImJvdW5kXCIsIGJvdW5kKTtcclxuXHRcdGNvbnNvbGUubG9nKFwiYVZpZXdwb3J0XCIsIGFWaWV3cG9ydCk7XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0aWYodGhpcy5zdGF0ZSA9PT0gU1RBVEVTLk9VVF9PRl9WSUVXKVxyXG5cdFx0XHR0aGlzLl9fZW50ZXJpbmdWaWV3KGJvdW5kLCBhVmlld3BvcnQpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aGlzLl9faXNPdXRPZlZpZXdpbmcoYm91bmQsIGFWaWV3cG9ydCk7XHJcblx0XHRcclxuXHRcdFxyXG5cdFx0Y29uc29sZS5sb2codGhpcy5zdGF0ZSk7XHJcblx0XHRcclxuXHR9XHJcblx0XHJcblx0X19lbnRlcmluZ1ZpZXcoYUJvdW5kLCBhVmlld3BvcnQpIHtcclxuXHRcdGlmKGFCb3VuZC50b3AgPCBhVmlld3BvcnQuaGVpZ2h0IHx8IChhQm91bmQuYm90dG9tID4gMCAmJiBhQm91bmQuYm90dG9tIDwgYVZpZXdwb3J0LmhlaWdodCkpXHJcblx0XHRcdHRoaXMuc3RhdGUgPSBTVEFURVMuSU5fVklFVztcdFx0XHJcblx0fVx0XHJcblx0X19pc091dE9mVmlld2luZyhhQm91bmQsIGFWaWV3cG9ydCl7XHJcblx0XHRpZihhQm91bmQudG9wID4gYVZpZXdwb3J0LmhlaWdodCB8fCBhQm91bmQuYm90dG9tIDwgMClcclxuXHRcdFx0dGhpcy5zdGF0ZSA9IFNUQVRFUy5PVVRfT0ZfVklFVztcdFxyXG5cdFx0XHRcclxuXHR9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBMaXN0ZW5lcjsiLCJpbXBvcnQgT2JzZXJ2ZXIgZnJvbSBcIi4vT2JzZXJ2ZXJcIjtcclxuY29uc3QgVFJJR0dFUlMgPSBbJ3Njcm9sbCcsICdyZXNpemUnLCAnbG9hZCddO1xyXG5jb25zdCBPQlNFUlZFUklOU1RBTkNFID0gbmV3IE9ic2VydmVyKCk7XHJcblRSSUdHRVJTLmZvckVhY2goZXZlbnQgPT5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBPQlNFUlZFUklOU1RBTkNFLmV4ZWN1dGUuYmluZChPQlNFUlZFUklOU1RBTkNFKSkpO1xyXG5cclxuY29uc3QgZmluZE9ic2VydmFibGVFbGVtZW50cyA9IGZ1bmN0aW9uKCl7XHJcblx0bGV0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW9uc2NyZWVuXVwiKTsgXHJcblx0QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcclxuXHRcdE9CU0VSVkVSSU5TVEFOQ0UuYWRkRWxlbWVudChpdGVtKTtcclxuXHR9KTtcdFxyXG5cdE9CU0VSVkVSSU5TVEFOQ0UuZXhlY3V0ZSgpO1x0XHJcbn07XHJcbmlmICh3aW5kb3cuTXV0YXRpb25PYnNlcnZlcikge1xyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIFx0ZmluZE9ic2VydmFibGVFbGVtZW50cygpO1xyXG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZpbmRPYnNlcnZhYmxlRWxlbWVudHMpLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG5pZiAodHlwZW9mICQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHQkLmZuLk9uU2NyZWVuID0gZnVuY3Rpb24oKSB7XHRcclxuXHRcdE9CU0VSVkVSSU5TVEFOQ0UuYWRkRWxlbWVudCh0aGlzWzBdKTtcclxuXHR9XHJcbn1cclxuXHJcbiIsImltcG9ydCBMaXN0ZW5lciBmcm9tIFwiLi9MaXN0ZW5lclwiO1xyXG5cclxuXHJcbmNsYXNzIE9ic2VydmVyIHtcclxuXHRjb25zdHJ1Y3Rvcigpe1xyXG5cdFx0dGhpcy5saXN0ZW5lcnMgPSBuZXcgQXJyYXkoKTtcclxuXHRcdHRoaXMuZXhlY3V0aW5nID0gdW5kZWZpbmVkO1xyXG5cdH1cdFxyXG5cdFxyXG5cdGFkZEVsZW1lbnQgKGFFbGVtZW50KXtcclxuXHRcdGNvbnNvbGUubG9nKFwiYWRkRWxlbWVudFwiLCBhRWxlbWVudCk7XHJcblx0XHR0aGlzLmxpc3RlbmVycy5wdXNoKG5ldyBMaXN0ZW5lcihhRWxlbWVudCkpO1xyXG5cdH1cclxuXHRcclxuXHRleGVjdXRlKCl7XHJcblx0XHRpZih0eXBlb2YgdGhpcy5leGVjdXRpbmcgIT09IFwidW5kZWZpbmVkXCIpXHJcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLmV4ZWN1dGluZyk7XHJcblx0XHRcclxuXHRcdHRoaXMuZXhlY3V0aW5nID0gc2V0VGltZW91dCgoICgpID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcImV4ZWN1dGVcIik7XHJcblx0XHRcdFx0Y29uc3Qgdmlld3BvcnQgPSB7XHJcblx0XHRcdFx0XHRcdHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuXHRcdFx0XHRcdFx0aGVpZ2h0IDogd2luZG93LmlubmVySGVpZ2h0XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR0aGlzLmxpc3RlbmVycy5mb3JFYWNoKChhTGlzdGVuZXIpID0+IHtcclxuXHRcdFx0XHRcdGFMaXN0ZW5lci5kb0NoZWNraW5nKHZpZXdwb3J0KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KS5iaW5kKHRoaXMpLCAyNTApO1xyXG5cdFxyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBPYnNlcnZlcjsiXSwic291cmNlUm9vdCI6IiJ9